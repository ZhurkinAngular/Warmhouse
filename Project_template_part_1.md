# Задание 1. Анализ и планирование

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могут
  - управлять отоплением через приложение
  - настраивать температуру в помещении
  - включать и выключать систему отопления
- Система поддерживает
  - синхронное взаимодействие с датчиками управления отоплением
  - запрос состояния и текущей температуры
  - управление системой отопления через прямые команды устройствам
  - обработка команд включения и выключения через методы `turnOn()` и `turnOff()`
  - изменение температуры с помощью метода setTargetTemperature()

**Мониторинг температуры:**

- Пользователи могут
  - просматривать температуру в доме через приложение
- Система поддерживает
  - сбор данных о температуре через метод `getCurrentTemperature()`
  - работа с датчиками через синхронные запросы

### 2. Анализ архитектуры монолитного приложения

Язык программирования:
- `Java` (Spring Framework)

База данных:
- `PostgreSQL`

Взаимодействие между компонентами:
- Все компоненты приложения связаны внутри единого монолита.
- Используются синхронные вызовы методов и обращение к базе данных через репозитории.

Структура приложения:
- Сервис `HeatingSystemServiceImpl` реализует бизнес-логику
- DTO `HeatingSystemDto` используется для передачи данных между уровнями
- Репозиторий `HeatingSystemRepository` обрабатывает взаимодействие с базой данных.

### 3. Определение доменов и границы контекстов

- управление отоплением (функционал для настройки и управления температурой в доме, сбор и отображение данных о текущей температуре, управление режимами работы системы отопления)
- управление умными устройствами (подключение и настройка дополнительных умных устройств, управление состоянием и сбор данных с этих устройств)
- управление подключениями (регистрация и первичная настройка устройств пользователем, поддержка самостоятельного подключения датчиков пользователем)
- пользовательский доступ и аутентификация (регистрация и управление пользователями системы, контроль доступа к данным и устройствам)
- мониторинг и аналитика (сбор данных о температуре, состояниях устройств и событиях в системе, построение аналитики и отчетов)

### **4. Проблемы монолитного решения**

- масштабируемость и производительность: с увеличением нагрузки на приложение (больше пользователей, больше данных, больше устройств) сложнее масштабировать монолит. В случае увеличения запросов к одному из компонентов, придется масштабировать весь монолит, а не только нужную часть
- сложность в поддержке и развертывании: чем больше функциональности добавляется в монолит, тем сложнее понять, какие части системы взаимозависимы. Это затрудняет добавление новых функций и исправление багов, так как даже небольшие изменения могут затронуть множество компонентов.
- сложность с командной разработкой: в больших монолитах несколько команд могут работать над разными частями системы, что приводит к конфликтам кода и проблемам с интеграцией. Все работают с одной кодовой базой, что усложняет управление версиями и параллельную разработку.
- риски с отказоустойчивостью: в монолитной архитектуре отказ одного компонента может повлечь за собой сбой всего приложения. Все части системы tightly coupled (плотно связаны), и сбой в одном месте может вызвать последствия для всего приложения.

### 5. Визуализация контекста системы — диаграмма С4

Диаграммы находятся в docs/diagrams/context

# Задание 2. Проектирование микросервисной архитектуры

В этом задании вам нужно предоставить только диаграммы в модели C4. Мы не просим вас отдельно описывать получившиеся микросервисы и то, как вы определили взаимодействия между компонентами To-Be системы. Если вы правильно подготовите диаграммы C4, они и так это покажут.

**Диаграмма контейнеров (Containers)**

Добавьте диаграмму.

**Диаграмма компонентов (Components)**

Добавьте диаграмму для каждого из выделенных микросервисов.

**Диаграмма кода (Code)**

Добавьте одну диаграмму или несколько.

# Задание 3. Разработка ER-диаграммы

Добавьте сюда ER-диаграмму. Она должна отражать ключевые сущности системы, их атрибуты и тип связей между ними.
